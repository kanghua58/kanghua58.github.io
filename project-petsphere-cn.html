<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
      hljs.highlightAll();
    </script>
    <link rel="stylesheet" href="project-style.css" />
    <link rel="icon" href="./image/icon.png" />
    <title>KAY QIU | PETSPHERE</title>
  </head>

  <!-- Google tag (gtag.js) -->
  <script
    async
    src="https://www.googletagmanager.com/gtag/js?id=G-K5BHE7RETG"
  ></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());
    gtag("config", "G-K5BHE7RETG");
  </script>
  <body>
    <header>
      <span class="name">ä»‡åº·åŒ–</span>
      <ul class="navbar">
        <li class="nav-item">
          <a href="index-cn.html#about" target="_blank">å…³äº</a>
        </li>
        <li class="nav-item">
          <a href="index-cn.html#work" class="active-nav-item" target="_blank"
            >ä½œå“</a
          >
        </li>
        <li class="nav-item">
          <a href="https://kanguru.vercel.app" target="_blank">åšå®¢</a>
        </li>
        <li class="nav-item">
          <a href="./files/ä»‡åº·åŒ–.pdf" target="_blank">ç®€å†</a>
        </li>
      </ul>
    </header>
    <div class="line">line</div>

    <main>
      <section id="description">
        PetSphereğŸ•
        å® æ˜Ÿçƒï¼Œä¸€ä¸ªå……æ»¡æ´»åŠ›çš„å® ç‰©ç¤¾åŒºç¤¾äº¤å¹³å°ï¼Œè¿æ¥çˆ±å® äººå£«å’Œé è°±æœåŠ¡ï¼Œæ‰“é€ é“²å±å®˜çš„ä¸“å±ä¹å›­ã€‚
      </section>
      <section id="meta-data">
        <div class="col4">
          <span class="highlight-pink">æ—¶é—´çº¿ --</span>
          <br />
          3 ä¸ªæœˆ (2023 ç§‹å­£)
        </div>
        <div class="col4 paddingside30">
          <span class="highlight-pink">è§’è‰² --</span>
          <br />æ¦‚å¿µåŸå‹è®¾è®¡ <br />
          äº¤äº’ç•Œé¢è®¾è®¡ <br />
          å‰ç«¯å¼€å‘ <br />
          åç«¯å¼€å‘
        </div>
        <div class="col4 paddingside30">
          <span class="highlight-pink">ç›®çš„ --</span><br />æä¾›å® ç‰©é¥²å…»å‘˜çš„ç¤¾ç¾¤
        </div>
        <div class="col4">
          <span class="highlight-pink">å’Œ --</span><br />å¯¼å¸ˆ: Andrew Twigg
          <br />ç»„å‘˜: Lucy Cao, Dhruvisha Mondhe
        </div>
      </section>
      <img
        class="overview-pic"
        src="./image/petsphere/overview_petsphere.png"
        alt=""
      />
      <section id="overview">
        <p class="highlight-pink">é¡¹ç›®æ¦‚è¿°</p>
        <h1 class="descriptive-block">Web3.5 Social Web Application</h1>
        <p>
          å® æ˜Ÿçƒæ˜¯ä¸€ä¸ªå……æ»¡æ´»åŠ›çš„å® ç‰©ç¤¾åŒºç¤¾äº¤å¹³å°ï¼Œå¸®ç”¨æˆ·è¿æ¥çˆ±å® äººå£«å’Œé è°±æœåŠ¡ï¼Œæ‰“é€ æ¯›å­©å­ä»¬çš„ä¸“å±ä¹å›­ã€‚åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥ï¼šåˆ†äº«è¶£äº‹å’Œç»éªŒï¼šæ™’èŒç…§ã€å†™æ—¥è®°ï¼Œä¸å…¶ä»–é“²å±å®˜ä»¬äº¤æµå…»å® å¿ƒå¾—ï¼Œè®©ä½ çš„çˆ±å® æˆä¸ºæ˜æ˜Ÿï¼›æ‰¾é è°±æœåŠ¡ï¼šé›ç‹—ã€å¯„å…»ã€æ´—æ¾¡â€¦â€¦å„ç§è´´å¿ƒæœåŠ¡ä¸€ç½‘æ‰“å°½ï¼Œå‡ºé—¨åœ¨å¤–ä¹Ÿä¸æ‹…å¿ƒæ¯›å­©å­æ²¡äººç…§é¡¾ï¼›å‘ç°æœ‰è¶£å†…å®¹ï¼šæ ‡ç­¾æœç´¢ã€ä¸ªæ€§åŒ–æ¨èï¼Œè½»æ¾æ‰¾åˆ°ä½ æ„Ÿå…´è¶£çš„å…»å® è¯é¢˜ï¼Œå­¦ä¹ æ›´å¤šçŸ¥è¯†ï¼Œåšä¸ªåˆæ ¼é“²å±å®˜ï¼
        </p>
      </section>

      <section id="role">
        <p class="highlight-pink">æˆ‘çš„è§’è‰²</p>
        <h1 class="descriptive-block">UIè®¾è®¡ & å…¨æ ˆå¼€å‘</h1>
        <p>
          æˆ‘æ˜¯Petsphereçš„UIè®¾è®¡å¸ˆå’Œå…¨æ ˆå¼€å‘äººå‘˜ï¼Œä»ç•Œé¢è®¾è®¡åˆ°åŠŸèƒ½å¼€å‘ï¼Œéƒ½å€¾æ³¨äº†æˆ‘çš„å¿ƒè¡€ã€‚æˆ‘æ³¨é‡ç®€æ´æ˜“ç”¨çš„è®¾è®¡ï¼Œæ‰“é€ å‡ºå“åº”å¼é¡µé¢ã€æ‡’äººæ³¨å†Œã€ä¸ªæ€§åŒ–æ¨èç­‰å®ç”¨åŠŸèƒ½ï¼Œè®©æ¯ä¸ªé“²å±å®˜éƒ½èƒ½è½»æ¾ä¸Šæ‰‹ã€‚
        </p>
      </section>

      <section id="01">
        <h1 class="title-pink">1. ä¸»è¦åŠŸèƒ½</h1>
        <div class="image-plus">
          <img class="col8" src="./image/petsphere/creating-post.gif" alt="" />
          <div class="col8 plus-description">
            <h1 class="descriptive-block">å‘å¸–åˆ†äº«</h1>
            <p>
              æ— è®ºæ˜¯æ™’èŒç…§è¿˜æ˜¯åˆ†äº«ç»éªŒï¼Œå® æ˜Ÿçƒéƒ½èƒ½æä¾›æ–¹ä¾¿å¿«æ·çš„å¹³å°ã€‚å°ç™½ç”¨æˆ·ä¹Ÿèƒ½è½»æ¾ä¸Šæ‰‹ï¼Œè®©ä½ çš„çˆ±å® æ•…äº‹è¢«æ›´å¤šäººçœ‹åˆ°ï¼
            </p>
          </div>
        </div>
        <div class="image-plus">
          <img class="col8" src="./image/petsphere/tagging.gif" alt="" />
          <div class="col8 plus-description">
            <h1 class="descriptive-block">æ ‡ç­¾åˆ†ç±»</h1>
            <p>
              æ¯ç¯‡å¸–å­éƒ½å¯ä»¥æ·»åŠ æ ‡ç­¾ï¼Œæ–¹ä¾¿å…¶ä»–é“²å±å®˜æ‰¾åˆ°æ„Ÿå…´è¶£çš„å†…å®¹ï¼Œæ¯”å¦‚â€œç‹—ç‹—ç¾å®¹â€æˆ–â€œçŒ«å’ªå¥åº·â€ã€‚
            </p>
          </div>
        </div>
        <div class="image-plus">
          <img class="col8" src="./image/petsphere/liking.gif" alt="" />
          <div class="col8 plus-description">
            <h1 class="descriptive-block">ç‚¹èµå’Œé€šçŸ¥</h1>
            <p>
              çœ‹è§å¥½çš„å¸–å­ï¼Œå°±ç”¨ç‚¹èµæ”¯æŒä¸€ä¸‹å§ï¼å…¶ä»–ç”¨æˆ·ç‚¹èµã€è¯„è®ºã€æ”¶è—çš„å†…å®¹ï¼Œéƒ½ä¼šåŠæ—¶æ”¶åˆ°æé†’ï¼Œä¸é”™è¿‡ä»»ä½•äº’åŠ¨ã€‚
            </p>
          </div>
        </div>
        <div class="image-plus">
          <img
            class="col8"
            src="./image/petsphere/searching + bookmarking.gif"
            alt=""
          />
          <div class="col8 plus-description">
            <h1 class="descriptive-block">æœç´¢å’Œæ”¶è—</h1>
            <p>
              ç”¨å…³é”®è¯æœç´¢å†…å®¹æˆ–ç”¨æˆ·ï¼Œæ ‡ç­¾ä¹Ÿèƒ½å¸®ç”¨æˆ·æ‰©å±•æœç´¢èŒƒå›´ã€‚æ‰¾åˆ°å–œæ¬¢çš„å¸–å­ï¼Œå°±æ”¶è—èµ·æ¥ï¼Œæ–¹ä¾¿ä»¥åå‚è€ƒã€‚
            </p>
          </div>
        </div>
        <div class="image-plus">
          <img class="col8" src="./image/petsphere/recommendation.gif" alt="" />
          <div class="col8 plus-description">
            <h1 class="descriptive-block">ä¸ªæ€§åŒ–æ¨è</h1>
            <p>
              ç³»ç»Ÿä¼šæ ¹æ®ç”¨æˆ·çš„å–œå¥½å’Œè¡Œä¸ºï¼Œä¸ºç”¨æˆ·æ¨èç›¸å…³çš„å†…å®¹ï¼Œè®©ç”¨æˆ·å‘ç°æ›´å¤šæƒŠå–œï¼Œå’Œæ¯›å­©å­ä¸€èµ·å¿«ä¹æˆé•¿ï¼
            </p>
          </div>
        </div>
      </section>

      <section id="02">
        <h1 class="title-pink">2. è®¾è®¡åŸåˆ™</h1>
        <div class="image-plus">
          <div class="col8 plus-description plus-description-left">
            <h1 class="descriptive-block">å“åº”å¼è®¾è®¡</h1>
            <p>
              æ— è®ºæ˜¯ç”¨ç”µè„‘è¿˜æ˜¯æ‰‹æœºï¼Œå® æ˜Ÿçƒéƒ½èƒ½ç»™ç”¨æˆ·æœ€å¥½çš„ä½“éªŒã€‚é¡µé¢å¸ƒå±€ã€å›¾ç‰‡å¤§å°ã€åŠŸèƒ½æ“ä½œï¼Œéƒ½ä¼šæ ¹æ®å±å¹•å°ºå¯¸è‡ªåŠ¨è°ƒæ•´ï¼Œè®©ç”¨æˆ·éšæ—¶éšåœ°ç•…æ¸¸å® æ˜Ÿçƒï¼
            </p>
          </div>
          <img
            class="col8"
            src="./image/petsphere/responsive design.gif"
            alt=""
          />
        </div>
        <div class="image-plus">
          <div class="col8 plus-description-left">
            <h1 class="descriptive-block">ç”¨æˆ·å‹å¥½ç•Œé¢</h1>
            <p>
              æ¸…æ™°çš„ä¿¡æ¯å¸ƒå±€ã€æ˜“æ“ä½œçš„æŒ‰é’®ï¼Œè®©å® æ˜Ÿçƒæˆä¸ºç”¨æˆ·è½»æ¾ä¸Šæ‰‹çš„å® çˆ±ä¹å›­ã€‚ä»å‘ç°å†…å®¹åˆ°é¢„å®šæœåŠ¡ï¼Œæ¯ä¸€æ­¥éª¤éƒ½ç®€ä¾¿æµç•…ï¼Œè®©ç”¨æˆ·äº«å—å…»å® çš„ä¹è¶£ã€‚
            </p>
          </div>
          <img class="col8" src="./image/petsphere/design-screens.png" alt="" />
        </div>
      </section>

      <section id="03">
        <h1 class="title-pink">3. æŠ€æœ¯æ ˆ</h1>
        <p>
          å® æ˜Ÿçƒé‡‡ç”¨äº†ç°ä»£åŒ–çš„ç½‘ç»œæŠ€æœ¯ï¼Œç¡®ä¿å¹³å°çš„ç¨³å®šå®‰å…¨å’Œæµç•…è¿è¡Œã€‚HTMLã€CSSã€JavaScriptã€PHPã€SQLã€Rubyã€Node.jsï¼Œæ¯ç§æŠ€æœ¯éƒ½å‘æŒ¥ç€é‡è¦ä½œç”¨ã€‚
        </p>
        <div class="image-plus">
          <div class="col8 plus-description-left">
            <h1 class="descriptive-block">å‰ç«¯å¼€å‘</h1>
            <p>
              HTMLã€CSSã€JavaScript è´Ÿè´£æ„å»ºç¾è§‚æ˜“ç”¨çš„ç•Œé¢ã€‚æ¯”å¦‚ï¼Œæ³¨å†Œè¡¨å•ç”±
              HTML ä»£ç æ­å»ºï¼Œæ¯ä¸ªè¾“å…¥æ¡†éƒ½æ¸…æ™°æ˜äº†ï¼›CSS
              è®©è¡¨å•èµå¿ƒæ‚¦ç›®ï¼Œç¬¦åˆå® æ˜Ÿçƒçš„æ•´ä½“é£æ ¼ï¼›JavaScript
              è´Ÿè´£å‰ç«¯éªŒè¯ï¼Œç¡®ä¿ç”¨æˆ·æäº¤çš„ä¿¡æ¯å‡†ç¡®æ— è¯¯ã€‚
            </p>
            <h1 class="descriptive-block paddingtop20">è¿æ¥åç«¯</h1>
            <p>
              åç«¯æ˜¯å® æ˜Ÿçƒçš„å¼ºå¤§å¼•æ“ï¼Œè´Ÿè´£æ•°æ®å¤„ç†ã€å®‰å…¨ä¿éšœï¼Œä»¥åŠä¸å‰ç«¯çš„æ— ç¼äº¤äº’ã€‚PHPã€Node.jsã€SQL
              ç­‰æŠ€æœ¯æ‰“é€ äº†ç¨³å¥å¯æ‰©å±•çš„åç«¯æ¶æ„ã€‚æ¯”å¦‚ï¼Œæ³¨å†Œè¡¨å•ä¸åç«¯ç›¸è¿ï¼Œä½¿ç”¨
              PHP å’Œ SQL åˆ›å»ºäº†å®‰å…¨é«˜æ•ˆçš„ç”¨æˆ·æ•°æ®å­˜å‚¨æœºåˆ¶ã€‚PHP
              è„šæœ¬å¤„ç†è¡¨å•æäº¤ï¼Œå¹¶éªŒè¯é‚®ç®±æ˜¯å¦å·²æ³¨å†Œï¼Œå°†å¯†ç åŠ å¯†åå­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚
            </p>
          </div>
          <img
            class="col6 fit-cover"
            src="./image/petsphere/signup.gif"
            alt=""
          />
        </div>

        <div class="descriptive-block">
          <pre><code class="language-html" style="font-family: 'DM Mono';">
  &lt;!-- Sample .html Code for Signup Interface Structure --&gt;

  &lt;!DOCTYPE html&gt;
  &lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;PetSphere | Sign-up&lt;/title&gt;
    &lt;link rel="stylesheet" href="./style.css" /&gt;
    &lt;style&gt;
              body {
                background-image: url("http://localhost/petsphere2/assets/images/backgrounds/bg_animal.jpeg");
                background-size: cover;
                background-repeat: no-repeat;
                background-position: center;
                background-attachment: fixed;
              }
          &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div class="popup-container"&gt;
      &lt;div class="signup"&gt;
        &lt;div class="logo-container"&gt;
          &lt;a href="./index.php"&gt;
            &lt;img class="logo" src="http://localhost/petsphere2/assets/images/icons/logo.png" alt=""/&gt;
          &lt;/a&gt;
        &lt;/div&gt;
        &lt;form action="signup.php" method="post"&gt;
          &lt;!-- user input username --&gt;
          &lt;div class="input-container"&gt;
            &lt;input type="text" name="username" value="" required /&gt;
            &lt;label for="username"&gt;Username&lt;/label&gt;
            &lt;div class="error-message"&gt;&lt;/div&gt;
            &lt;div class="error-message"&gt;&lt;/div&gt;
          &lt;/div&gt;

          &lt;div class="input-container"&gt;
            &lt;input type="email" name="email" value="" required /&gt;
            &lt;label for="email"&gt;Email&lt;/label&gt;
            &lt;div class="error-message"&gt;&lt;/div&gt;
            &lt;div class="error-message"&gt;&lt;/div&gt;
          &lt;/div&gt;

          &lt;div class="input-container"&gt;
            &lt;input type="password" name="password" required /&gt;
            &lt;label for="password"&gt;Password&lt;/label&gt;
            &lt;div class="error-message"&gt;&lt;/div&gt;
            &lt;div class="error-message"&gt;&lt;/div&gt;
          &lt;/div&gt;

          &lt;div class="input-container"&gt;
            &lt;input type="password" name="confirm_password" required /&gt;
            &lt;label for="confirm_password"&gt;Confirm Password&lt;/label&gt;
            &lt;div class="error-message"&gt;&lt;/div&gt;
          &lt;/div&gt;

          &lt;button class="popup-button" type="submit"&gt;Sign up&lt;/button&gt;
        &lt;/form&gt;
        &lt;p&gt;Have an account? &lt;a href="login.php" class="popup-link"&gt;Login&lt;/a&gt;&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/body&gt;
  &lt;/html&gt;
              </code></pre>

          <pre><code class="language-css">
    /* Sample .css Code for Login & Signup Interface */

    .error-message {
      font-size: 12px;
      padding-top: 2px;
      padding-left: 3px;
      margin-bottom: 0;
      padding-bottom: 0;
      color: var(--MAIN);
    }

    .popup-container {
      display: flex;
      justify-content: center;
      align-items: center;
      height: auto;
    }

    .login,
    .signup {
      position: fixed;
      top: 20vh;
      background-co/lor: rgba(255, 255, 255, 0.9);
      padding: 20px;
      border: 1px solid #cccccc68;
      border-radius: 18px;
      width: 300px;
      padding: 50px;
    }

    .popup-container h2 {
      text-align: center;
      padding-bottom: 0;
      margin-bottom: 5px;
    }

    form .input-container {
      position: relative;
      margin-bottom: 20px;
      width: 100%;
    }

    .popup-container input {
      width: 100%;
      padding: 10px;
      padding-left: 10px;
      padding-right: 32px;
      border: 1px solid var(--GRAYLIGHT);
      border-radius: 10px;
      font-size: 1.05rem;
      font-family: "Karla";
    }

    .popup-container .login input {
      width: 85%;
    }

    .popup-container label {
      position: absolute;
      top: 22px;
      left: 10px;
      transform: translateY(-50%);
      pointer-events: none;
      color: var(--GRAY);
      transition: all 0.2s ease-in-out;
    }

    .popup-container input:focus + label {
      top: 0;
      left: 0;
      padding-bottom: 20px;
      font-size: 12px;
      color: var(--GRAY);
    }

    .popup-container input:valid + label {
      top: 0;
      left: 0;
      padding-bottom: 20px;
      font-size: 12px;
      color: var(--GRAY);
    }

    .popup-container p {
      text-align: center;
      padding-top: 20px;
    }

    .popup-link {
      color: var(--MAIN);
      text-decoration: underline;
    }
                </code></pre>

          <pre><code class="language-php">
    // Sample .php Code for Handling Signup

    &lt;?php
    $username = "";
    $email = "";
    $password = "";
    $confirm_password = "";
    $signup_date = date("Y-m-d"); 
    $profile_pic = "";
    $error_array = array(); 


    if ($_SERVER["REQUEST_METHOD"] == "POST") {
        $username = $_POST["username"];
        $_SESSION["username"] = $username;

        $email = $_POST["email"];
        $_SESSION["email"] = $email;

        $password = $_POST["password"];
        $confirm_password = $_POST["confirm_password"];

        // verify username length
        if (strlen($username) &gt; 50 || strlen($username) &lt; 2) {
            array_push($error_array, "Username must be between 2 and 50 characters&lt;br&gt;");
        }

        // check if username already exists
        if ($stmt = $con-&gt;prepare("SELECT username FROM users WHERE username = ?")) {
            $stmt-&gt;bind_param("s", $username);
            $stmt-&gt;execute();
            $result = $stmt-&gt;get_result();
            $num_rows = $result-&gt;num_rows;
            $stmt-&gt;close();

            if ($num_rows &gt; 0) {
                array_push($error_array, "Username already exists&lt;br&gt;");
            }
        }



        // verify email address
        if (filter_var($email, FILTER_VALIDATE_EMAIL)) {
            $email = filter_var($email, FILTER_VALIDATE_EMAIL);

            // prevent SQL injection
            $stmt = $con-&gt;prepare("SELECT email FROM users WHERE email = ?");
            $stmt-&gt;bind_param("s", $email);
            $stmt-&gt;execute();
            $result = $stmt-&gt;get_result();
            $num_rows = $result-&gt;num_rows;
            $stmt-&gt;close();

            if ($num_rows &gt; 0) {
                array_push($error_array, "Email already in use&lt;br&gt;");
            }
        } else {
            array_push($error_array, "Invalid email address&lt;br&gt;");
        }

        // verify password
        $password_valid = true;
        if (preg_match('/[^A-Za-z0-9]/', $password)) {
            array_push($error_array, "Your password can only contain English letters or numbers&lt;br&gt;");
            $password_valid = false;
        }
        
        if (strlen($password) &gt; 30 || strlen($password) &lt; 5) {
            array_push($error_array, "Your password must be between 5 and 30 characters&lt;br&gt;");
            $password_valid = false;
        }

        if ($password !== $confirm_password) {
            array_push($error_array, "Passwords did not match&lt;br&gt;");
            $password_valid = false;
        }

        // register new user if no errors
        if (empty($error_array) && $password_valid) {
            $hashed_password = password_hash($password, PASSWORD_DEFAULT);

            //profile picture assignment
            $rand = rand(1,3);

            if($rand == 1){
              $profile_pic = "http://localhost/petsphere2/assets/images/profile_pics/momo.jpeg";
            } else if ($rand == 2){
              $profile_pic = "http://localhost/petsphere2/assets/images/profile_pics/momo1.jpg";
            } else if ($rand == 3){
              $profile_pic = "http://localhost/petsphere2/assets/images/profile_pics/momo2.jpg";
            };
            
            // write the data into database
            $stmt = $con-&gt;prepare("INSERT INTO users (username, email, password, signup_date, profile_pic) VALUES (?, ?, ?, ?, ?)");
            $stmt-&gt;bind_param("sssss", $username, $email, $hashed_password, $signup_date, $profile_pic);
            
            if ($stmt-&gt;execute()) {
                echo "Welcome to PetSphere!&lt;br&gt;";
                $_SESSION["username"] = $username;
                header("Location: index.php");
                exit();

            } else {
                echo "Woops, Something went wrong: " . $con-&gt;error;
            }
            $stmt-&gt;close();
        }
    }
    $_SESSION['error_array'] = $error_array;
    ?&gt;

    &lt;script&gt;
        console.log($error_array)
    &lt;/script&gt;
                  </code></pre>
        </div>
      </section>

      <section id="04">
        <h1 class="title-pink">4. æ•°æ®åˆ†æ</h1>
        <div class="image-plus">
          <div class="col8 plus-description">
            <h1 class="descriptive-block">ç”¨æˆ·è¡Œä¸ºåˆ†æ</h1>
            <p>
              é€šè¿‡åˆ†æç”¨æˆ·åœ¨å¹³å°ä¸Šçš„è¡Œä¸ºï¼Œæ¯”å¦‚ç‚¹èµã€æ”¶è—ã€æ ‡ç­¾ä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£åˆ°å“ªäº›å†…å®¹æ›´å—å¤§å®¶çš„å–œçˆ±ã€‚è¿™äº›æ•°æ®å°†ç”¨äºæ”¹è¿›å†…å®¹ç­–ç•¥ï¼Œä¸ºç”¨æˆ·æä¾›æ›´å¤šç²¾å½©å®ç”¨çš„å…»å® çŸ¥è¯†å’Œèµ„è®¯ï¼Œè®©æ¯ä¸€ä¸ªç”¨æˆ·éƒ½èƒ½æˆä¸ºæœ€æ£’çš„é“²å±å®˜ã€‚
            </p>
          </div>
          <div class="col8 plus-description">
            <h1 class="descriptive-block">ä¸ªæ€§åŒ–æ¨èç®—æ³•</h1>
            <p>
              æˆ‘ä½¿ç”¨äº†å¤–éƒ¨ç¨‹åºæ¥åˆ†æç”¨æˆ·è¡Œä¸ºå¹¶åˆ›å»ºç”¨æˆ·å‘é‡ã€‚è¿™ä¸ªç®—æ³•ä¼šè€ƒè™‘ç”¨æˆ·ç‚¹èµã€æ”¶è—çš„å¸–å­ç­‰å› ç´ ï¼Œå¯¹æœªé˜…è¯»çš„å¸–å­è¿›è¡Œæ’åºï¼Œå¹¶æŒ‰ç›¸å…³æ€§æ¨èç»™ç”¨æˆ·ã€‚
            </p>
          </div>
        </div>

        <div class="descriptive-block">
          <pre><code class="language-ruby">
        # Sample .rb Code for Calculating Keywords
        
        require 'json'
        
        # parses the JSON data passed to the script
        input_json = ARGV[0]
        posts_data = JSON.parse(input_json)
        
        # initializes a hash table for keyword frequencies
        keyword_frequencies = Hash.new(0)
        
        # defines a method for basic text cleaning
        def clean_text(text)
          # basic cleaning: converts to lowercase and removes non-alphanumeric characters
          text.downcase.gsub(/[^a-z0-9\s]/i, '')
        end
        
        # Extended list of stopwords
        stopwords = %w[
          the and to of a in that is was it for on with as by he she they at be this have from or one had 
          by word but not what all were we when your can said there use an each which she do how their if 
          will up other about out many then them these so some her would make like him into time has look 
          two more write go see number no way could people my than first water been call who oil its now 
          find long down day did get come made may part over new sound take only little work know place 
          year live me back give most very after thing our just name good sentence man think say great 
          where help through much before line right too mean old any same tell boy follow came want show 
          also around form three small set put end does another well large must big even such because turn 
          here why ask went men read need land different home us move try kind hand picture again change 
          off play spell air away animal house point page letter mother answer found study still learn 
          should america world high every near add food between own below country plant last school father 
          keep tree never start city earth eye light thought head under story saw left few while 
          along might close something seem next hard open example begin life always those both paper 
          together got group often run important until children side feet car mile night walk white sea 
          began grow took river four carry state once book hear stop without second late miss idea enough 
          eat face watch far indian real almost let above girl sometimes mountains cut young talk soon list 
          song being leave family
        ]
        
        TITLE_TAG_WEIGHT = 100
        
        # iterates over post data, extracting and processing text
        posts_data.each do |post|
          # combines title, body, and tags
          combined_text = post['title'] + ' ' + post['body'] + ' ' + post['tags']
          cleaned_text = clean_text(combined_text)
        
          # splits the text into words and counts frequencies, skipping stopwords
          cleaned_text.split.each do |word|
            next if stopwords.include?(word) 
            keyword_frequencies[word] += 1
          end
        
          title_and_tags = post['title'] + ' ' + post['tags']
          cleaned_title_and_tags = clean_text(title_and_tags)
          cleaned_title_and_tags.split.each do |word|
            next if stopwords.include?(word)
            keyword_frequencies[word] += TITLE_TAG_WEIGHT
          end
        end
        
        # outputs the keyword frequencies in JSON format
        puts keyword_frequencies.to_json
            </code></pre>
          <pre><code class="language-php">
        // Sample .php Code for Creating User Vector and Getting Recommendation

        &lt;?php
    
        function fetchPostsLikedByUser($userId, $con) {
            $likedPostsData = [];
            $likedPostsQuery = mysqli_query($con, "SELECT post_id FROM likes WHERE username = '" . mysqli_real_escape_string($con, $userId) . "'");
            if (!$likedPostsQuery) {
                die('Query failed: ' . mysqli_error($con));
            }
            while ($row = mysqli_fetch_assoc($likedPostsQuery)) {
                $postId = $row['post_id'];
                $postQuery = mysqli_query($con, "SELECT title, body, tags FROM posts WHERE id = '$postId'");
                if ($postRow = mysqli_fetch_assoc($postQuery)) {
                    $likedPostsData[] = $postRow;
                }
            }
            return $likedPostsData;
        }
    
        function getKeywordFrequencies($postsData) {
            $rubyExecutable = '/usr/bin/ruby';
            $scriptPath = __DIR__ . '/../assets/ruby/process.rb';
            $command = $rubyExecutable . ' ' . escapeshellarg($scriptPath) . ' ' . escapeshellarg(json_encode($postsData)) . ' 2&gt;&amp;1';
            $output = shell_exec($command);
    
            if ($output === null) {
                die("Error: Ruby script did not return any output");
            }
    
            $decodedOutput = json_decode($output, true);
            if (json_last_error() !== JSON_ERROR_NONE) {
                die("Error processing posts data: " . $output . "\nJSON Error: " . json_last_error_msg());
            }
    
            return $decodedOutput;
        }
    
        function getRecommendations($userId, $con) {
        
            $likedPostsData = fetchPostsLikedByUser($userId, $con);
            
            if (empty($likedPostsData)) {
                $allPostsQuery = mysqli_query($con, "SELECT id FROM posts WHERE deleted='no' ORDER BY date_added DESC");
                $allPostsData = mysqli_fetch_all($allPostsQuery, MYSQLI_ASSOC);
                return array_column($allPostsData, 'id');
            }
        
            $keywordFrequencies = getKeywordFrequencies($likedPostsData);
            arsort($keywordFrequencies);
        
            $allPostsQuery = mysqli_query($con, "SELECT id, title, body, tags FROM posts WHERE deleted='no'");
            $allPostsData = mysqli_fetch_all($allPostsQuery, MYSQLI_ASSOC);
        
            usort($allPostsData, function ($post1, $post2) use ($keywordFrequencies, $userId, $con) {
                $score1 = calculatePostScore($post1, $keywordFrequencies);
                $score2 = calculatePostScore($post2, $keywordFrequencies);
        
                $liked1 = isLikedByUser($post1['id'], $userId, $con);
                $liked2 = isLikedByUser($post2['id'], $userId, $con);
        
                if ($liked1 == $liked2) {
                    return $score2 &lt;=&gt; $score1;
                }
        
                return $liked1 ? 1 : -1;
            });
        
            return array_column($allPostsData, 'id');
        }
    
        function isLikedByUser($postId, $userId, $con) {
            $likeQuery = mysqli_query($con, "SELECT * FROM likes WHERE post_id='$postId' AND username='" . mysqli_real_escape_string($con, $userId) . "'");
            return mysqli_num_rows($likeQuery) &gt; 0;
        }
        
    
        function calculatePostScore($post, $keywordFrequencies) {
            $combinedText = $post['title'] . ' ' . $post['body'] . ' ' . $post['tags'];
            $words = explode(' ', $combinedText);
            $score = 0;
    
            foreach ($words as $word) {
                if (isset($keywordFrequencies[$word])) {
                    $score += $keywordFrequencies[$word];
                }
            }
    
            return $score;
        }
    
        if (isset($userLoggedIn)) {
            // get list of posts based on recommendation algorithm
            $recommendations = getRecommendations($userLoggedIn, $con);
            $postIds = implode(',', $recommendations);
            $postQuery = "SELECT * FROM posts WHERE id IN ($postIds) ORDER BY FIELD(id, $postIds)"; // ä½¿ç”¨ FIELD å‡½æ•°ç¡®ä¿æŒ‰æ¨èé¡ºåºæ’åº
        } else {
            $postQuery = "SELECT * FROM posts ORDER BY likes DESC, date_added DESC";
        }
    
        $postResult = mysqli_query($con, $postQuery);
    
        if(mysqli_num_rows($postResult) &gt; 0) {
    
            while($post = mysqli_fetch_assoc($postResult)) {
            $userQuery = "SELECT profile_pic FROM users WHERE username = '" . mysqli_real_escape_string($con, $post['added_by']) . "'";
            $userResult = mysqli_query($con, $userQuery);
            $postUser = mysqli_fetch_assoc($userResult);
    
            date_default_timezone_set('America/New_York');
            $dateAdded = new DateTime($post['date_added']);
            $now = new DateTime("now");
            $interval = $dateAdded-&gt;diff($now);
    
            // format date based on the difference
            if ($interval-&gt;h &lt; 1) {
                // less than 1 hour
                if ($interval-&gt;i == 0) {
                    $timeString = 'Just now';
                } else {
                    $timeString = $interval-&gt;i . 'min ago';
                }
            } elseif ($interval-&gt;d &lt; 1) {
                // less than 24 hours but more than 1 hour
                $timeString = $interval-&gt;h . 'h ago';
            } elseif ($interval-&gt;d &lt; 7) {
                // less than 7 days
                $timeString = $interval-&gt;d . 'd ago';
            } else {
                // 7 days or more
                $timeString = $dateAdded-&gt;format('M d, Y');
            }
    
            // check if the vote, flag, like has been clicked
            $flag_query = mysqli_query($con, "SELECT * FROM flags WHERE post_id='{$post['id']}' AND username='{$userLoggedIn}'");
            $flag_icon_class = (mysqli_num_rows($flag_query) &gt; 0) ? "fa" : "far";
    
            $like_query = mysqli_query($con, "SELECT * FROM likes WHERE post_id='{$post['id']}' AND username='{$userLoggedIn}'");
            $like_icon_class = (mysqli_num_rows($like_query) &gt; 0) ? "fa" : "far";
    
            $vote_query = mysqli_query($con, "SELECT * FROM votes WHERE post_id='{$post['id']}' AND username='{$userLoggedIn}'");
            $vote_icon_class = (mysqli_num_rows($vote_query) &gt; 0) ? "fa" : "far";
    
                echo '
                    &lt;div class="card-container" id="post-' . htmlspecialchars($post['id']) . '"&gt;
                        &lt;div class="card-header"&gt;
                            &lt;h2&gt;' . htmlspecialchars($post['title']) . '&lt;/h2&gt;';
    
                // display tags
                if(!empty($post['tags'])) {
                    $tags = explode(',', $post['tags']);
                    foreach($tags as $tag) {
                        echo '&lt;span class="post-tag"&gt;#' . htmlspecialchars(trim($tag)) . '&lt;/span&gt; ';
                    }
                }
    
                echo '
                            &lt;a href="#" class="card-userinfo"&gt;
                                &lt;div class="user-icon"&gt;
                                    &lt;img src="' . htmlspecialchars($postUser['profile_pic']) . '" alt="" /&gt;
                                &lt;/div&gt;
                                &lt;span&gt;' . htmlspecialchars($post['added_by']) . '&lt;/span&gt;
                                &lt;span&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;
                                &lt;span class="post-date" style="color:#b1a290"&gt;' . htmlspecialchars($timeString) . '&lt;/span&gt;
                                &lt;span&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;                        
                                &lt;span class="critter-type"&gt;' . htmlspecialchars($post['category']) . '&lt;/span&gt;
                            &lt;/a&gt;
                        &lt;/div&gt;
                        
                        &lt;div class="card-content"&gt;
                            &lt;img src="' . htmlspecialchars($post['imageName']) . '" alt="" class="card-image" /&gt;
                            &lt;div&gt;' . $post['body'] . '&lt;/div&gt;
                        &lt;/div&gt;
                        
                        &lt;div class="card-footer"&gt;
                            &lt;div class="interaction-icons"&gt;   
                            &lt;i class="' . $vote_icon_class . ' fa-thumbs-up" id="vote-icon-' . $post['id'] . '" onclick="toggleVote(' . $post['id'] . ', \'' . $userLoggedIn . '\')"&gt;&lt;/i&gt;
                            &lt;span&gt;' . htmlspecialchars($post['votes']) . ' votes&lt;/span&gt;
                        
                            &lt;i class="' . $flag_icon_class . ' fa-thumbs-down" id="flag-icon-' . $post['id'] . '" onclick="toggleFlag(' . $post['id'] . ', \'' . $userLoggedIn . '\')"&gt;&lt;/i&gt;
                            &lt;span&gt;' . htmlspecialchars($post['flags']) . ' flags&lt;/span&gt;
                        
                            &lt;i class="' . $like_icon_class . ' fa-heart" id="like-icon-' . $post['id'] . '" onclick="toggleLike(' . $post['id'] . ', \'' . $userLoggedIn . '\')"&gt;&lt;/i&gt;
                            &lt;span&gt;' . htmlspecialchars($post['likes']) . '&lt;/span&gt;
                        &lt;/div&gt;';
                            
                            
                if (isset($userLoggedIn) && $userLoggedIn != $post['added_by']) {
                    echo '
                    &lt;div class="tag-add-form"&gt;
                        &lt;form action="/petsphere2/includes/form_handlers/tag_adder.php" method="POST"&gt;
                            &lt;span&gt;#&lt;/span&gt;
                            &lt;input type="hidden" name="post_id" value="' . htmlspecialchars($post['id']) . '"&gt;
                            &lt;input type="text" name="tag" placeholder="Add a tag"&gt;
                            &lt;button type="submit" name="add_tag"&gt;+ Tag&lt;/button&gt;
                        &lt;/form&gt;
                    &lt;/div&gt;
                    ';
                }
                        
                
                echo '
                    
                    &lt;/div&gt;
                    &lt;/div&gt;
                ';
            }
        } else {
            echo 'No posts found.';
        }
        ?&gt;
              </code></pre>
        </div>
      </section>

      <section id="work">
        <h1 class="h1bold">æ›´å¤šä½œå“</h1>
        <!-- é¡¹ç›® -->
        <a class="clearstyle" href="./project-vibely-cn.html" target="_blank">
          <div class="project vibely custom-cursor">
            <div class="project-description">
              <h2>Bumbleé‡è§</h2>
              <div class="project-meta">è¯¾ç¨‹é¡¹ç›® - äº§å“è®¾è®¡</div>
              <p>
                Vibelyé¡¹ç›®é€šè¿‡å¼•å…¥äº¤äº’å¼åœ°å›¾ï¼Œä¿ƒè¿›äº†åŸºäºå®æ—¶åœ°ç†ä½ç½®çš„æ—¶æ•ˆæ€§äº’åŠ¨ï¼Œæ—¨åœ¨æå‡ç”¨æˆ·ä½“éªŒå¹¶å¢åŠ è½¬åŒ–ç‡ã€‚
              </p>
            </div>
            <div class="project-image">
              <img src="./image/hero_vibely.png" alt="Bumble Vibelyé¡¹ç›®å›¾ç‰‡" />
            </div>
          </div>
        </a>

        <!-- Project -->
        <a class="clearstyle" href="project-bikelink-cn.html" target="_blank">
          <div class="project bikelink custom-cursor">
            <div class="project-description">
              <h2>é“¾å•è½¦ï¼ˆBikeLink Proï¼‰</h2>
              <div class="project-meta">è¯¾ç¨‹é¡¹ç›® - UIè®¾è®¡</div>
              <p>
                BikeLink
                Proä¸åªæ˜¯åŠè‡ªåŠ¨é©¾é©¶ç”µåŠ¨è‡ªè¡Œè½¦ï¼Œå®ƒä»£è¡¨ç€å…¨æ–°çš„éª‘è¡Œä½“éªŒã€‚æˆ‘åŸºäºä»¥äººä¸ºæœ¬çš„è®¾è®¡åŸåˆ™ï¼Œè®¾è®¡äº†ä¸€ç³»åˆ—ç”¨æˆ·ç•Œé¢å’Œäº¤äº’èŒƒä¾‹ã€‚
              </p>
            </div>
            <div class="project-image">
              <img
                src="./image/hero_bikelink.png"
                alt="BikeLinkPro Project Image"
              />
            </div>
          </div>
        </a>
      </section>
    </main>

    <footer>
      <div class="pattent">
        &copy;ä»‡åº·åŒ– <span id="current-year">2024</span>
      </div>
      <ul class="contact">
        <li class="contact-item">
          <a href="mailto:kanghua58@gmail.com">ç”µå­é‚®ä»¶</a>
        </li>
        <li class="contact-item">
          <a href="https://www.linkedin.com/in/kanghua-kay-q-314177199">é¢†è‹±</a>
        </li>
        <li class="contact-item">
          <a href="https://www.instagram.com/phawaiice/">Instagram</a>
        </li>
        <li class="contact-item">
          <a href="https://space.bilibili.com/13065669">å“”å“©å“”å“©</a>
        </li>
      </ul>
    </footer>
    <script src="main.js"></script>
  </body>
</html>
